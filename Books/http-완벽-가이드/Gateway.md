# ê²Œì´íŠ¸ì›¨ì´(Gateway)

## ğŸ“Œ ê²Œì´íŠ¸ì›¨ì´ë€?

**í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ì‚¬ì´ì—ì„œ ì¤‘ê°„ì ì—­í• ì„ í•˜ëŠ” ì„œë²„**

- ìš”ì²­ì„ ë°›ì•„ì„œ ë³€í™˜/ì²˜ë¦¬ í›„ ì „ë‹¬
- ìµœì¢… ì„œë¹„ìŠ¤ê°€ ì•„ë‹Œ ì¤‘ê³„ ì—­í•  (S3ëŠ” ê²Œì´íŠ¸ì›¨ì´ê°€ ì•„ë‹˜)

## ğŸ”„ 3ê°€ì§€ ì£¼ìš” ê²Œì´íŠ¸ì›¨ì´ ìœ í˜•

### 1. í”„ë¡œí† ì½œ ê²Œì´íŠ¸ì›¨ì´

ì„œë¡œ ë‹¤ë¥¸ í”„ë¡œí† ì½œ ê°„ í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ê²Œì´íŠ¸ì›¨ì´

```
í´ë¼ì´ì–¸íŠ¸ --HTTPS--> Gateway --HTTP--> Server
```

**ì£¼ìš” ê¸°ëŠ¥:**

- SSL í„°ë¯¸ë„¤ì´ì…˜ (HTTPS â†’ HTTP)
- HTTP/2 â†’ HTTP/1.1 ë³€í™˜
- HTTP â†’ WebSocket ì—…ê·¸ë ˆì´ë“œ

**ëŒ€í‘œ ì„œë¹„ìŠ¤:** nginx, HAProxy, AWS ALB

### 2. ë³€í™˜ ê²Œì´íŠ¸ì›¨ì´

ê°™ì€ í”„ë¡œí† ì½œì´ì§€ë§Œ ë°ì´í„° í˜•ì‹ì´ë‚˜ ë‚´ìš©ì„ ë³€ê²½í•˜ëŠ” ê²Œì´íŠ¸ì›¨ì´

```
ìš”ì²­ í—¤ë” ì¶”ê°€ â†’ ì¸ì¦ í† í° ì‚½ì…
ì‘ë‹µ ì••ì¶• â†’ Gzip, Brotli
ì´ë¯¸ì§€ ë³€í™˜ â†’ WebP ë³€í™˜, ë¦¬ì‚¬ì´ì§•
```

**ì£¼ìš” ê¸°ëŠ¥:**

- í—¤ë” ì¶”ê°€/ì‚­ì œ/ìˆ˜ì •
- ë°ì´í„° ì••ì¶• ë° ìµœì í™”
- API ì‘ë‹µ í¬ë§· ë³€ê²½ (JSON â†’ XML)
- ì´ë¯¸ì§€ ì²˜ë¦¬ ë° ìµœì í™”

**ëŒ€í‘œ ì„œë¹„ìŠ¤:** API Gateway, CloudFlare Workers, Kong

### 3. ìºì‹± ê²Œì´íŠ¸ì›¨ì´

ìì£¼ ìš”ì²­ë˜ëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ ì €ì¥í•´ì„œ ì§ì ‘ ì‘ë‹µí•˜ëŠ” ê²Œì´íŠ¸ì›¨ì´

```
Cache HIT:  í´ë¼ì´ì–¸íŠ¸ â†’ CDN (ì§ì ‘ ì‘ë‹µ)
Cache MISS: í´ë¼ì´ì–¸íŠ¸ â†’ CDN â†’ Origin Server
```

**ì£¼ìš” ê¸°ëŠ¥:**

- ì •ì  íŒŒì¼ ìºì‹± (ì´ë¯¸ì§€, CSS, JS)
- API ì‘ë‹µ ìºì‹±
- ì¡°ê±´ë¶€ ìš”ì²­ ì²˜ë¦¬ (304 Not Modified)
- ì˜¤ë¦¬ì§„ ì„œë²„ ë¶€í•˜ ê°ì†Œ

**ëŒ€í‘œ ì„œë¹„ìŠ¤:** CloudFront, Fastly, Varnish

## ğŸ—ï¸ ì‹¤ë¬´ í¬ì¸íŠ¸

### ë³µí•©ì  ì‚¬ìš©

ì‹¤ì œë¡œëŠ” í•˜ë‚˜ì˜ ê²Œì´íŠ¸ì›¨ì´ê°€ ì—¬ëŸ¬ ì—­í• ì„ ë™ì‹œì— ìˆ˜í–‰

```yaml
CDN (CloudFront):
  - SSL í„°ë¯¸ë„¤ì´ì…˜ [í”„ë¡œí† ì½œ]
  - ì´ë¯¸ì§€ ìµœì í™” [ë³€í™˜]
  - ì •ì  íŒŒì¼ ìºì‹± [ìºì‹±]
```

### ìœ„ì¹˜ì— ë”°ë¥¸ ë¶„ë¥˜

| ìœ í˜•              | ìœ„ì¹˜          | ì˜ˆì‹œ        | ìš©ë„                 |
| ----------------- | ------------- | ----------- | -------------------- |
| **Forward Proxy** | í´ë¼ì´ì–¸íŠ¸ ì¸¡ | íšŒì‚¬ í”„ë¡ì‹œ | ì™¸ë¶€ ì ‘ê·¼ ì œì–´, ìºì‹± |
| **Reverse Proxy** | ì„œë²„ ì¸¡       | nginx, CDN  | ë¡œë“œë°¸ëŸ°ì‹±, ë³´ì•ˆ     |

### ì£¼ìš” ì‚¬ìš© ëª©ì 

1. **ë³´ì•ˆ** ğŸ”

   - SSL/TLS ì²˜ë¦¬
   - DDoS ë°©ì–´, WAF
   - ì¸ì¦/ì¸ê°€

2. **ì„±ëŠ¥** âš¡

   - ìºì‹±ìœ¼ë¡œ ì‘ë‹µ ì†ë„ í–¥ìƒ
   - ì••ì¶•ìœ¼ë¡œ ëŒ€ì—­í­ ì ˆì•½
   - ë¡œë“œë°¸ëŸ°ì‹±ìœ¼ë¡œ ë¶€í•˜ ë¶„ì‚°

3. **í˜¸í™˜ì„±** ğŸ”§
   - ë ˆê±°ì‹œ ì‹œìŠ¤í…œ ì—°ë™
   - í”„ë¡œí† ì½œ ë³€í™˜
   - API ë²„ì „ ê´€ë¦¬

## ğŸ’¡ í•µì‹¬ í¬ì¸íŠ¸

> âš ï¸ **ê²Œì´íŠ¸ì›¨ì´ = ì¤‘ê°„ì**
>
> - ìµœì¢… ëª©ì ì§€ê°€ ì•„ë‹Œ ì¤‘ê³„ ì—­í• 
> - S3, Database ë“± ìµœì¢… ì„œë¹„ìŠ¤ëŠ” ê²Œì´íŠ¸ì›¨ì´ê°€ ì•„ë‹˜

> ğŸŒ **í˜„ëŒ€ ì›¹ ì•„í‚¤í…ì²˜**
>
> - ê±°ì˜ ëª¨ë“  íŠ¸ë˜í”½ì´ ì–´ë–¤ í˜•íƒœì˜ ê²Œì´íŠ¸ì›¨ì´ë¥¼ ê±°ì¹¨
> - ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í™˜ê²½ì—ì„œëŠ” í•„ìˆ˜ êµ¬ì„± ìš”ì†Œ

## ğŸ” ì‹¤ì œ ì‚¬ë¡€

```
ì¼ë°˜ì ì¸ ì›¹ ì„œë¹„ìŠ¤ êµ¬ì¡°:
ì‚¬ìš©ì â†’ CloudFront(CDN) â†’ ALB â†’ nginx â†’ Application Server â†’ RDS

ê° ë‹¨ê³„ë³„ ê²Œì´íŠ¸ì›¨ì´ ì—­í• :
- CloudFront: ìºì‹± + SSL í„°ë¯¸ë„¤ì´ì…˜
- ALB: ë¡œë“œë°¸ëŸ°ì‹± + í—¬ìŠ¤ì²´í¬
- nginx: ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ + ì •ì  íŒŒì¼ ì„œë¹™
```

## ğŸ“š ì¶”ê°€ í•™ìŠµ í‚¤ì›Œë“œ

- Service Mesh (Istio, Linkerd)
- API Gateway Pattern
- BFF (Backend for Frontend)
- Circuit Breaker Pattern
- Rate Limiting
- Edge Computing
